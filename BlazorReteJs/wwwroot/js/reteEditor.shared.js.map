{
  "version": 3,
  "sources": ["../../node_modules/@babel/runtime/helpers/typeof.js", "../../node_modules/@babel/runtime/helpers/regeneratorRuntime.js", "../../node_modules/@babel/runtime/regenerator/index.js", "../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js", "../../node_modules/@babel/runtime/helpers/esm/typeof.js", "../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js", "../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js", "../../node_modules/@babel/runtime/helpers/esm/createClass.js", "../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../../node_modules/@babel/runtime/helpers/esm/inherits.js", "../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js", "../../node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../../node_modules/src/scope.ts", "../../node_modules/src/editor.ts", "../../node_modules/src/utils.ts", "../../node_modules/src/presets/classic.ts", "../ts/reteEditor.shared.tsx"],
  "sourcesContent": ["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n", "export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}", "export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}", "import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}", "import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}", "export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}", "export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}", "export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}", "import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}", "/* eslint-disable @typescript-eslint/naming-convention */\nimport {\n  AcceptPartialUnion, CanAssignSignal, GetAssignmentReferences, GetNonAssignableElements, Tail\n} from './utility-types'\n\nexport type { CanAssignSignal }\n\n/**\n * A middleware type that can modify the data\n * @typeParam T - The data type\n * @param data - The data to be modified\n * @returns The modified data or undefined\n * @example (data) => data + 1\n * @example (data) => undefined // will stop the execution\n * @internal\n */\nexport type Pipe<T> = (data: T) => Promise<undefined | T> | undefined | T\n\nexport type CanAssignEach<D extends any[], F extends any[]> = D extends [infer H1, ...infer Tail1]\n  ? (\n    F extends [infer H2, ...infer Tail2] ?\n    [CanAssignSignal<H1, H2>, ...CanAssignEach<Tail1, Tail2>]\n    : []\n  ) : []\n\nexport type ScopeAsParameter<S extends Scope<any, any[]>, Current extends any[]> = (CanAssignEach<[S['__scope']['produces'], ...S['__scope']['parents']], Current>[number] extends true\n  ? S\n  : 'Argument Scope does not provide expected signals'\n)\n\n/**\n * Validate the Scope signals and replace the parameter type with an error message if they are not assignable\n * @internal\n */\nexport type NestedScope<S extends Scope<any, any[]>, Current extends any[]> = (CanAssignEach<Current, S['__scope']['parents']>[number] extends true\n  ? S\n  : 'Parent signals do not satisfy the connected scope. Please use `.debug($ => $) for detailed assignment error'\n)\n\n/**\n * Provides 'debug' method to check the detailed assignment error message\n * @example .debug($ => $)\n * @internal\n */\nexport function useHelper<S extends Scope<any, any[]>, Signals>() {\n  type T1 = S['__scope']['parents'][number]\n  return {\n    debug<T extends GetNonAssignableElements<T1, Signals>>(f: (p: GetAssignmentReferences<T, Signals>) => T) {\n      f\n    }\n  }\n}\n\n/**\n * A signal is a middleware chain that can be used to modify the data\n * @typeParam T - The data type\n * @internal\n */\nexport class Signal<T> {\n  pipes: Pipe<T>[] = []\n\n  addPipe(pipe: Pipe<T>) {\n    this.pipes.push(pipe)\n  }\n\n  async emit<Context extends T>(context: Context): Promise<Context | undefined> {\n    let current: Context | undefined = context\n\n    for (const pipe of this.pipes) {\n      current = await pipe(current) as Context\n\n      if (typeof current === 'undefined') return\n    }\n    return current\n  }\n}\n\ntype Type<T> = {\n  new(...args: any[]): T;\n} | (abstract new (...args: any[]) => T)\n\n/**\n * Base class for all plugins and the core. Provides a signals mechanism to modify the data\n */\nexport class Scope<Produces, Parents extends unknown[] = []> {\n  signal = new Signal<AcceptPartialUnion<Produces | Parents[number]>>()\n  parent?: any // Parents['length'] extends 0 ? undefined : Scope<Parents[0], Tail<Parents>>\n  __scope: {\n    produces: Produces\n    parents: Parents\n  }\n\n  constructor(public name: string) { }\n\n  addPipe(middleware: Pipe<Produces | Parents[number]>) {\n    this.signal.addPipe(middleware)\n  }\n\n  use<S extends Scope<any, any[]>>(scope: NestedScope<S, [Produces, ...Parents]>) {\n    if (!(scope instanceof Scope)) throw new Error('cannot use non-Scope instance')\n\n    scope.setParent(this)\n    this.addPipe(context => {\n      return scope.signal.emit(context)\n    })\n\n    return useHelper<S, Produces | Parents[number]>()\n  }\n\n  setParent(scope: Scope<Parents[0], Tail<Parents>>) {\n    this.parent = scope\n  }\n\n  emit<C extends Produces>(context: C): Promise<Extract<Produces, C> | undefined> {\n    return this.signal.emit(context) as Promise<Extract<Produces, C>>\n  }\n\n  hasParent(): boolean {\n    return Boolean(this.parent)\n  }\n\n  parentScope<T extends Parents[0], P extends Tail<Parents>>(): Scope<T, P>\n  parentScope<T>(type: Type<T>): T\n  parentScope<T>(type?: Type<T>): T {\n    if (!this.parent) throw new Error('cannot find parent')\n    if (type && this.parent instanceof type) return this.parent\n    if (type) throw new Error('actual parent is not instance of type')\n    return this.parent\n  }\n}\n", "import { Scope } from './scope'\nimport { BaseSchemes } from './types'\n\n/**\n * Signal types produced by NodeEditor instance\n * @typeParam Scheme - The scheme type\n * @priority 10\n * @group Primary\n */\nexport type Root<Scheme extends BaseSchemes> =\n  | { type: 'nodecreate', data: Scheme['Node'] }\n  | { type: 'nodecreated', data: Scheme['Node'] }\n  | { type: 'noderemove', data: Scheme['Node'] }\n  | { type: 'noderemoved', data: Scheme['Node'] }\n  | { type: 'connectioncreate', data: Scheme['Connection'] }\n  | { type: 'connectioncreated', data: Scheme['Connection'] }\n  | { type: 'connectionremove', data: Scheme['Connection'] }\n  | { type: 'connectionremoved', data: Scheme['Connection'] }\n  | { type: 'clear' }\n  | { type: 'clearcancelled' }\n  | { type: 'cleared' }\n\n/**\n * The NodeEditor class is the entry class. It is used to create and manage nodes and connections.\n * @typeParam Scheme - The scheme type\n * @priority 7\n * @group Primary\n */\nexport class NodeEditor<Scheme extends BaseSchemes> extends Scope<Root<Scheme>> {\n  private nodes: Scheme['Node'][] = []\n  private connections: Scheme['Connection'][] = []\n\n  constructor() {\n    super('NodeEditor')\n  }\n\n  /**\n   * Get a node by id\n   * @param id - The node id\n   * @returns The node or undefined\n   */\n  public getNode(id: Scheme['Node']['id']) {\n    return this.nodes.find(node => node.id === id)\n  }\n\n  /**\n   * Get all nodes\n   * @returns Copy of array with nodes\n   */\n  public getNodes() {\n    return this.nodes.slice()\n  }\n\n  /**\n   * Get all connections\n   * @returns Copy of array with onnections\n   */\n  public getConnections() {\n    return this.connections.slice()\n  }\n\n  /**\n   * Get a connection by id\n   * @param id - The connection id\n   * @returns The connection or undefined\n   */\n  public getConnection(id: Scheme['Connection']['id']) {\n    return this.connections.find(connection => connection.id === id)\n  }\n\n  /**\n   * Add a node\n   * @param data - The node data\n   * @returns Whether the node was added\n   * @throws If the node has already been added\n   * @emits nodecreate\n   * @emits nodecreated\n   */\n  async addNode(data: Scheme['Node']) {\n    if (this.getNode(data.id)) throw new Error('node has already been added')\n\n    if (!await this.emit({ type: 'nodecreate', data })) return false\n\n    this.nodes.push(data)\n\n    await this.emit({ type: 'nodecreated', data })\n    return true\n  }\n\n  /**\n   * Add a connection\n   * @param data - The connection data\n   * @returns Whether the connection was added\n   * @throws If the connection has already been added\n   * @emits connectioncreate\n   * @emits connectioncreated\n   */\n  async addConnection(data: Scheme['Connection']) {\n    if (this.getConnection(data.id)) throw new Error('connection has already been added')\n\n    if (!await this.emit({ type: 'connectioncreate', data })) return false\n\n    this.connections.push(data)\n\n    await this.emit({ type: 'connectioncreated', data })\n    return true\n  }\n\n  /**\n   * Remove a node\n   * @param id - The node id\n   * @returns Whether the node was removed\n   * @throws If the node cannot be found\n   * @emits noderemove\n   * @emits noderemoved\n   */\n  async removeNode(id: Scheme['Node']['id']) {\n    const index = this.nodes.findIndex(n => n.id === id)\n    const node = this.nodes[index]\n\n    if (index < 0) throw new Error('cannot find node')\n\n    if (!await this.emit({ type: 'noderemove', data: node })) return false\n\n    this.nodes.splice(index, 1)\n\n    await this.emit({ type: 'noderemoved', data: node })\n    return true\n  }\n\n  /**\n   * Remove a connection\n   * @param id - The connection id\n   * @returns Whether the connection was removed\n   * @throws If the connection cannot be found\n   * @emits connectionremove\n   * @emits connectionremoved\n   */\n  async removeConnection(id: Scheme['Connection']['id']) {\n    const index = this.connections.findIndex(n => n.id === id)\n    const connection = this.connections[index]\n\n    if (index < 0) throw new Error('cannot find connection')\n\n    if (!await this.emit({ type: 'connectionremove', data: connection })) return false\n\n    this.connections.splice(index, 1)\n\n    await this.emit({ type: 'connectionremoved', data: connection })\n    return true\n  }\n\n  /**\n   * Clear all nodes and connections\n   * @returns Whether the editor was cleared\n   * @emits clear\n   * @emits clearcancelled\n   * @emits cleared\n   */\n  async clear() {\n    if (!await this.emit({ type: 'clear' })) {\n      await this.emit({ type: 'clearcancelled' })\n      return false\n    }\n\n    for (const connection of this.connections.slice()) await this.removeConnection(connection.id)\n    for (const node of this.nodes.slice()) await this.removeNode(node.id)\n\n    await this.emit({ type: 'cleared' })\n    return true\n  }\n}\n", "/* global globalThis*/\n\nconst nodeCrypto = () => import('node:crypto')\n\nconst crypto = globalThis.crypto as (typeof globalThis.crypto | Awaited<ReturnType<typeof nodeCrypto>>)\n\n/**\n * @returns A unique id\n */\nexport function getUID(): string {\n  if ('randomBytes' in crypto) {\n    return crypto.randomBytes(8).toString('hex')\n  }\n\n  const bytes = crypto.getRandomValues(new Uint8Array(8))\n  const array = Array.from(bytes)\n  const hexPairs = array.map(b => b.toString(16).padStart(2, '0'))\n\n  return hexPairs.join('')\n}\n", "/**\n * Contains classes for classic scheme such as Node, Input, Output, Control, Socket, Connection\n * @module\n * @group Primary\n */\n\nimport { ConnectionBase, NodeBase } from '../types'\nimport { getUID } from '../utils'\n\ntype PortId = string\n\n/**\n * The socket class\n * @priority 7\n */\nexport class Socket {\n  /**\n   * @constructor\n   * @param name Name of the socket\n   */\n  constructor(public name: string) {\n\n  }\n}\n\n/**\n * General port class\n */\nexport class Port<S extends Socket> {\n  /**\n   * Port id, unique string generated by `getUID` function\n   */\n  id: PortId\n  /**\n   * Port index, used for sorting ports. Default is `0`\n   */\n  index?: number\n\n  /**\n   * @constructor\n   * @param socket Socket instance\n   * @param label Label of the port\n   * @param multipleConnections Whether the output port can have multiple connections\n   */\n  constructor(public socket: S, public label?: string, public multipleConnections?: boolean) {\n    this.id = getUID()\n  }\n}\n\n/**\n * The input port class\n * @priority 6\n */\nexport class Input<S extends Socket> extends Port<S> {\n  /**\n   * Control instance\n   */\n  control: Control | null = null\n  /**\n   * Whether the control is visible. Can be managed dynamically by extensions. Default is `true`\n   */\n  showControl = true\n\n  /**\n   * @constructor\n   * @param socket Socket instance\n   * @param label Label of the input port\n   * @param multipleConnections Whether the output port can have multiple connections. Default is `false`\n   */\n  constructor(public socket: S, public label?: string, public multipleConnections?: boolean) {\n    super(socket, label, multipleConnections)\n  }\n\n  /**\n   * Add control to the input port\n   * @param control Control instance\n   */\n  addControl(control: Control) {\n    if (this.control) throw new Error('control already added for this input')\n    this.control = control\n  }\n\n  /**\n   * Remove control from the input port\n   */\n  removeControl() {\n    this.control = null\n  }\n}\n\n/**\n * The output port class\n * @priority 5\n */\nexport class Output<S extends Socket> extends Port<S> {\n  /**\n   * @constructor\n   * @param socket Socket instance\n   * @param label Label of the output port\n   * @param multipleConnections Whether the output port can have multiple connections. Default is `true`\n   */\n  constructor(socket: S, label?: string, multipleConnections?: boolean) {\n    super(socket, label, multipleConnections !== false)\n  }\n}\n\n/**\n * General control class\n * @priority 5\n */\nexport class Control {\n  /**\n   * Control id, unique string generated by `getUID` function\n   */\n  id: string\n  /**\n   * Control index, used for sorting controls. Default is `0`\n   */\n  index?: number\n\n  constructor() {\n    this.id = getUID()\n  }\n}\n\n/**\n * Input control options\n */\ntype InputControlOptions<N> = {\n  /** Whether the control is readonly. Default is `false` */\n  readonly?: boolean,\n  /** Initial value of the control */\n  initial?: N,\n  /** Callback function that is called when the control value changes */\n  change?: (value: N) => void\n}\n/**\n * The input control class\n * @example new InputControl('text', { readonly: true, initial: 'hello' })\n */\nexport class InputControl<T extends 'text' | 'number', N = T extends 'text' ? string : number> extends Control {\n  value?: N\n  readonly: boolean\n\n  /**\n   * @constructor\n   * @param type Type of the control: `text` or `number`\n   * @param options Control options\n   */\n  constructor(public type: T, public options?: InputControlOptions<N>) {\n    super()\n    this.id = getUID()\n    this.readonly = options?.readonly\n\n    if (typeof options?.initial !== 'undefined') this.value = options.initial\n  }\n\n  /**\n   * Set control value\n   * @param value Value to set\n   */\n  setValue(value?: N) {\n    this.value = value\n    if (this.options?.change) this.options.change(value)\n  }\n}\n\n/**\n * The node class\n * @priority 10\n * @example new Node('math')\n */\nexport class Node<\n  Inputs extends { [key in string]?: Socket } = { [key in string]?: Socket },\n  Outputs extends { [key in string]?: Socket } = { [key in string]?: Socket },\n  Controls extends { [key in string]?: Control } = { [key in string]?: Control }\n> implements NodeBase {\n  /**\n   * Node id, unique string generated by `getUID` function\n   */\n  id: NodeBase['id']\n  /**\n   * Node inputs\n   */\n  inputs: { [key in keyof Inputs]?: Input<Exclude<Inputs[key], undefined>> } = {}\n  /**\n   * Node outputs\n   */\n  outputs: { [key in keyof Outputs]?: Output<Exclude<Outputs[key], undefined>> } = {}\n  /**\n   * Node controls\n   */\n  controls: Controls = {} as Controls\n  /**\n   * Whether the node is selected. Default is `false`\n   */\n  selected?: boolean\n\n  constructor(public label: string) {\n    this.id = getUID()\n  }\n\n  hasInput<K extends keyof Inputs>(key: K) {\n    return Object.prototype.hasOwnProperty.call(this.inputs, key)\n  }\n\n  addInput<K extends keyof Inputs>(key: K, input: Input<Exclude<Inputs[K], undefined>>) {\n    if (this.hasInput(key)) throw new Error(`input with key '${String(key)}' already added`)\n\n    Object.defineProperty(this.inputs, key, { value: input, enumerable: true, configurable: true })\n  }\n\n  removeInput(key: keyof Inputs) {\n    delete this.inputs[key]\n  }\n\n  hasOutput<K extends keyof Outputs>(key: K) {\n    return Object.prototype.hasOwnProperty.call(this.outputs, key)\n  }\n\n  addOutput<K extends keyof Outputs>(key: K, output: Output<Exclude<Outputs[K], undefined>>) {\n    if (this.hasOutput(key)) throw new Error(`output with key '${String(key)}' already added`)\n\n    Object.defineProperty(this.outputs, key, { value: output, enumerable: true, configurable: true })\n  }\n\n  removeOutput(key: keyof Outputs) {\n    delete this.outputs[key]\n  }\n\n  hasControl<K extends keyof Controls>(key: K) {\n    return Object.prototype.hasOwnProperty.call(this.controls, key)\n  }\n\n  addControl<K extends keyof Controls>(key: K, control: Controls[K]) {\n    if (this.hasControl(key)) throw new Error(`control with key '${String(key)}' already added`)\n\n    Object.defineProperty(this.controls, key, { value: control, enumerable: true, configurable: true })\n  }\n\n  removeControl(key: keyof Controls) {\n    delete this.controls[key]\n  }\n}\n\n/**\n * The connection class\n * @priority 9\n */\nexport class Connection<\n  Source extends Node,\n  Target extends Node\n> implements ConnectionBase {\n  /**\n   * Connection id, unique string generated by `getUID` function\n   */\n  id: ConnectionBase['id']\n  /**\n   * Source node id\n   */\n  source: NodeBase['id']\n  /**\n   * Target node id\n   */\n  target: NodeBase['id']\n\n  /**\n   * @constructor\n   * @param source Source node instance\n   * @param sourceOutput Source node output key\n   * @param target Target node instance\n   * @param targetInput Target node input key\n   */\n  constructor(\n    source: Source,\n    public sourceOutput: keyof Source['outputs'],\n    target: Target,\n    public targetInput: keyof Target['inputs']\n  ) {\n    if (!source.outputs[sourceOutput as string]) {\n      throw new Error(`source node doesn't have output with a key ${String(sourceOutput)}`)\n    }\n    if (!target.inputs[targetInput as string]) {\n      throw new Error(`target node doesn't have input with a key ${String(targetInput)}`)\n    }\n\n    this.id = getUID()\n    this.source = source.id\n    this.target = target.id\n  }\n}\n", "\uFEFFimport {ClassicPreset, GetSchemes} from \"rete\";\r\n\r\nexport class Node extends ClassicPreset.Node {\r\n    width: number = 180;   \r\n    height: number = 120;\r\n    isActive: boolean;\r\n}\r\n\r\nexport class Connection<N extends Node> extends ClassicPreset.Connection<N, N> {\r\n}\r\n\r\nexport type Schemes = GetSchemes<Node, Connection<Node>>;"],
  "mappings": "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",
  "names": ["_typeof", "o", "_typeof", "_regeneratorRuntime", "t", "e", "r", "define", "n", "i", "a", "c", "o", "u", "h", "p", "o", "_setPrototypeOf", "o", "p", "_getPrototypeOf", "o", "crypto", "globalThis", "getUID", "randomBytes", "toString", "bytes", "getRandomValues", "Uint8Array", "array", "Array", "from", "hexPairs", "map", "b", "padStart", "join", "Socket", "_createClass", "name", "_classCallCheck", "Port", "socket", "label", "multipleConnections", "id", "Input", "_Port", "_inherits", "_super", "_createSuper", "_this", "call", "_defineProperty", "_assertThisInitialized", "key", "value", "addControl", "control", "Error", "removeControl", "Output", "_Port2", "_super2", "Control", "InputControl", "_Control", "_super3", "type", "options", "_this2", "readonly", "initial", "setValue", "_this$options", "change", "Node", "hasInput", "Object", "prototype", "hasOwnProperty", "inputs", "addInput", "input", "concat", "String", "defineProperty", "enumerable", "configurable", "removeInput", "hasOutput", "outputs", "addOutput", "output", "removeOutput", "hasControl", "controls", "Connection", "source", "sourceOutput", "target", "targetInput", "Node", "Connection"]
}
