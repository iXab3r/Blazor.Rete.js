@using BlazorReteJs
@page "/"
@inject IJSRuntime JS

<div class="d-flex flex-column" style="height: 100vh;">
    <div class="w-100">
        <p role="status">Current count: @currentCount</p>

        <button class="btn btn-primary" @onclick="(() => currentCount++)">Click me</button>
        <button class="btn btn-secondary" @onclick="@(async () => await sweetAlertModule.InvokeVoidAsync("showAlert", "test"))">Notification</button>
    </div>
    <div class="flex-grow-1 w-100">
        <BlazorReteEditor/>

    </div>
    <div class="w-100">
        <p role="status">Current count: @currentCount</p>
    </div>
</div>

@code {
    private IJSObjectReference? sweetAlertModule;
    private int currentCount = 0;

    protected override async Task OnInitializedAsync()
    {
        sweetAlertModule = await JS.InvokeAsync<IJSObjectReference>("import", "/_content/BlazorReteJs/js/sweetAlertInterop.js");
        await base.OnInitializedAsync();
    }
}